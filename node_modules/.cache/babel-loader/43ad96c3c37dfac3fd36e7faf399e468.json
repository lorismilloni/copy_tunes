{"ast":null,"code":"var _jsxFileName = \"/home/lorismilloni/Repos/copy_tunes/src/pages/Search.jsx\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport AlbumInfo from '../components/AlbumInfo';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Search extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        searchInput: target.value\n      }, this.validateButton);\n    };\n\n    this.validateButton = () => {\n      const MIN_VALUE = 2;\n      const {\n        searchInput\n      } = this.state;\n\n      if (searchInput.length >= MIN_VALUE) {\n        this.setState({\n          searchButton: false\n        });\n      } else {\n        this.setState({\n          searchButton: true\n        });\n      }\n    };\n\n    this.handleAlbumSearch = async () => {\n      this.setState({\n        loading: true,\n        albumFound: false\n      });\n      const {\n        searchInput\n      } = this.state;\n      this.setState({\n        searchInput: ''\n      });\n      const albumsArray = await searchAlbumsAPI(searchInput);\n      this.setState({\n        loading: false,\n        albumFound: true,\n        albums: albumsArray,\n        artist: searchInput\n      });\n    };\n\n    this.state = {\n      searchInput: '',\n      searchButton: true,\n      loading: false,\n      albumFound: false,\n      albums: [],\n      artist: ''\n    };\n  }\n\n  render() {\n    const {\n      searchButton,\n      searchInput,\n      loading,\n      albumFound,\n      albums,\n      artist\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"page-search\",\n        children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"columns\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"box column has-background-warning\",\n          children: loading ? /*#__PURE__*/_jsxDEV(Loading, {\n            class: \"box\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n            class: \"box has-background-warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"control field\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                class: \"input is-large is-rounded\",\n                type: \"text\",\n                value: searchInput,\n                onChange: this.handleChange,\n                \"data-testid\": \"search-artist-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"button is-dark is-medium is-responsive is-outlined is-fullwidth has-text-white\",\n              type: \"submit\",\n              disabled: searchButton,\n              onClick: this.handleAlbumSearch,\n              \"data-testid\": \"search-artist-button\",\n              children: \"Pesquisar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), albumFound && /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [albums.length ? /*#__PURE__*/_jsxDEV(\"h4\", {\n            class: \"subtitle\",\n            children: `Resultado de álbuns de: ${artist}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 35\n          }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n            class: \"subtitle\",\n            children: \"Nenhum \\xE1lbum foi encontrado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            children: albums.map(album => /*#__PURE__*/_jsxDEV(AlbumInfo, { ...album\n            }, album.collectionId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n} // requisito 5 feito com ajuda da Yasmim Matos\n// o requisito 6, com a função handleAlbumSearch, bem como seus estados e o componente AlbumInfo foi feito seguindo o PR do Leonardo Vogel","map":{"version":3,"sources":["/home/lorismilloni/Repos/copy_tunes/src/pages/Search.jsx"],"names":["React","Header","Loading","AlbumInfo","searchAlbumsAPI","Search","Component","constructor","handleChange","target","setState","searchInput","value","validateButton","MIN_VALUE","state","length","searchButton","handleAlbumSearch","loading","albumFound","albumsArray","albums","artist","render","map","album","collectionId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport AlbumInfo from '../components/AlbumInfo';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nexport default class Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchInput: '',\n      searchButton: true,\n      loading: false,\n      albumFound: false,\n      albums: [],\n      artist: '',\n    };\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      searchInput: target.value,\n    }, this.validateButton);\n  }\n\n  validateButton = () => {\n    const MIN_VALUE = 2;\n    const { searchInput } = this.state;\n    if (searchInput.length >= MIN_VALUE) {\n      this.setState({ searchButton: false });\n    } else {\n      this.setState({ searchButton: true });\n    }\n  }\n\n  handleAlbumSearch = async () => {\n    this.setState({ loading: true, albumFound: false });\n    const { searchInput } = this.state;\n    this.setState({ searchInput: '' });\n\n    const albumsArray = await searchAlbumsAPI(searchInput);\n\n    this.setState({\n      loading: false,\n      albumFound: true,\n      albums: albumsArray,\n      artist: searchInput,\n    });\n  }\n\n  render() {\n    const {\n      searchButton,\n      searchInput,\n      loading,\n      albumFound,\n      albums,\n      artist,\n    } = this.state;\n\n    return (\n      <>\n        <div data-testid=\"page-search\">\n          <Header />\n        </div>\n        <div class=\"columns\">\n          <div class=\"column\"></div>\n        </div>\n        <div class=\"columns\">\n          <div class=\"column\"></div>\n            <div class=\"box column has-background-warning\">\n              { loading ? <Loading class=\"box\" /> : (\n                  <form class=\"box has-background-warning\">\n                    <div class=\"control field\">\n                      <input\n                        class=\"input is-large is-rounded\"\n                        type=\"text\"\n                        value={ searchInput }\n                        onChange={ this.handleChange }\n                        data-testid=\"search-artist-input\"\n                      />\n                    </div>\n                    <button\n                      class=\"button is-dark is-medium is-responsive is-outlined is-fullwidth has-text-white\"\n                      type=\"submit\"\n                      disabled={ searchButton }\n                      onClick={ this.handleAlbumSearch }\n                      data-testid=\"search-artist-button\"\n                    >\n                      Pesquisar\n                    </button>\n                  </form>\n              )}\n            </div>\n            { albumFound && (\n              <section>\n                { albums.length ? <h4 class=\"subtitle\">{`Resultado de álbuns de: ${artist}`}</h4> : (\n                  <h4 class=\"subtitle\">Nenhum álbum foi encontrado</h4>) }\n                <section>\n                  { albums.map((album) => (\n                    <AlbumInfo key={ album.collectionId } { ...album } />\n                  ))}\n                </section>\n              </section>\n            )}\n          <div class=\"column\"></div>\n        </div>\n      </>\n    );\n  }\n}\n\n// requisito 5 feito com ajuda da Yasmim Matos\n// o requisito 6, com a função handleAlbumSearch, bem como seus estados e o componente AlbumInfo foi feito seguindo o PR do Leonardo Vogel\n"]},"metadata":{},"sourceType":"module"}